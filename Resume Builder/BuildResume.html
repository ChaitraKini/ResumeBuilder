<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="BuildStyle.css">
    <title>Resume Builder</title>
</head>
<body>
    <h1>
        <center>Resume Builder</center>
    </h1>
    <div class="container">
        
        <section>
            <form id="resumeForm" onsubmit="return redirectToTemplate(event)">
                <fieldset>
                    <legend>Personal Information</legend>
                    <label for="firstName">First Name:</label>
                    <input type="text" id="firstName" name="firstName" required>
                    <label for="lastName">Last Name:</label>
                    <input type="text" id="lastName" name="lastName" required>
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                    <label for="website">Website:</label>
                    <input type="text" id="website" name="website" required>
                    <label for="phone">Phone:</label>
                    <input type="number" id="phone" name="phone" required>
                    <label for="links">Links:</label>
                    <input type="text" id="links" name="links" required>
                    <label for="address">Address:</label>
                    <input type="text" id="address" name="address" required>

                    <label for="aboutYourself">About Yourself: </label>
                    <textarea id="aboutYourself" name="aboutYourself" rows="4" required></textarea>
                </fieldset>
                <fieldset>
                    <legend>Education</legend>
                        <div id="educationFields">
                        <!-- Initial set of education fields -->
                        <div class="educationField">
                            <h3>Education 1</h3>
                            <label for="degreeName">Degree :</label>
                            <input type="text" id="degreeName" name="degreeName" required>
                            <label for="collegeName">College Name :</label>
                            <input type="text" id="collegeName" name="collegeName" required>
                            <label for="university">University :</label>
                            <input type="text" id="university" name="university" required>
                            <label for="fromYearEdu">From Year:</label>
                            <input type="number" id="fromYearEdu" name="fromYearEdu" required>
                            <label for="toYearEdu">Till Year:</label>
                            <input type="number" id="toYearEdu" name="toYearEdu" required>
                            <button type="button" onclick="addEducationField()">Add Education</button>
                        </div>
                    </div>
                </fieldset>

                <fieldset>
                    <legend>Experience</legend>
                    <div id="experienceFields">
                        <div class="experienceField">
                            <h3>Experience 1</h3>
                            <label for="companyName">Company:</label>
                            <input type="text" id="companyName" name="companyName" required>
                            <label for="roleName">Job Role:</label>
                            <input type="text" id="roleName" name="roleName" required>
                            <label for="responsibilities">Overview and Responsibilities handled:</label>
                            <textarea id="responsibilities" name="responsibilities" rows="4" required></textarea>
                            <label for="fromYearExp">From Year:</label>
                            <input type="number" id="fromYearExp" name="fromYearExp" required>
                            <label for="toYearExp">Till Year:</label>
                            <input type="number" id="toYearExp" name="toYearExp" required>
                            <button type="button" onclick="addExperienceField()">Add Experience</button>
                        </div>
                    </div>
                </fieldset>
                

                <fieldset>
                    <legend>Skills</legend>
                    <div id="skillFields">
                        <div class="skillField">
                            <h3>Skill 1</h3>
                            <label for="skillName">Professional Skills:</label>
                            <input type="text" id="skillName" name="skillName" required>
                            <label for="skillPercent">Rate Skill in 100:</label>
                            <input type="number" id="skillPercent" name="skillPercent" required >
                            <button type="button" onclick="addSkillField()">Add</button>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Languages</legend>
                    <div id="languageFields">
                        <div class="languageField">
                            <h3>Language 1</h3>
                            <label for="langName">Language:</label>
                            <input type="text" id="langName" name="langName" required>
                            <label for="langPercent">Rate proficiency in 100 :</label>
                            <input type="number" id="langPercent" name="langPercent" required>
                            <button type="button" onclick="addLanguageField()">Add</button>
                        </div>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>Hobbies and Interests</legend>
                    <div id="interestFields">
                        <div class="interestField">
                            <label for="interestName">Interest:</label>
                            <input type="text" id="interestName" name="interestName" >
                            <button type="button" onclick="addHobbyField()">Add</button>
                        </div>
                    </div>
                </fieldset>




                <button type="submit">Generate Resume</button>
            </form>
        </section>
    </div>

    <script>
        let educationCounter = 1;
        let experienceCounter = 1;
        let hobbyCounter = 1;
        let languageCounter = 1;
        let skillCounter = 1;


        function redirectToTemplate(event) {
            event.preventDefault();
            //personal info
            const FirstName = document.getElementById('firstName').value;
            const LastName = document.getElementById('lastName').value;
            const Email = document.getElementById('email').value;
            const Website = document.getElementById('website').value;
            const Phone = document.getElementById('phone').value;
            const Links = document.getElementById('links').value;
            const Address = document.getElementById('address').value;
            const AboutYourself = document.getElementById('aboutYourself').value;

            var url = 'Template1.html?' +
            'firstName=' + encodeURIComponent(FirstName) + '&' +
            'lastName=' + encodeURIComponent(LastName) + '&' +
            'phone=' + encodeURIComponent(Phone) + '&' +
            'email=' + encodeURIComponent(Email) + '&' +
            'website=' + encodeURIComponent(Website) + '&' +
            'linkedin=' + encodeURIComponent(Links) + '&' +
            'address=' + encodeURIComponent(Address) + '&' +
            'aboutYourself=' + encodeURIComponent(AboutYourself);

            // Education info
            const educationFields = document.querySelectorAll('.educationField');
            let educationData = [];
            educationFields.forEach((field, index) => {
                const degreeName = field.querySelector('#degreeName').value;
                const collegeName = field.querySelector('#collegeName').value;
                const university = field.querySelector('#university').value;
                const fromYearEdu = field.querySelector('#fromYearEdu').value;
                const toYearEdu = field.querySelector('#toYearEdu').value;
                educationData.push({
                    degreeName: degreeName,
                    collegeName: collegeName,
                    university: university,
                    fromYearEdu: fromYearEdu,
                    toYearEdu: toYearEdu
                });
            });

            educationData.forEach((education, index) => {
                url += `&degreeName${index}=${encodeURIComponent(education.degreeName)}` +
                `&collegeName${index}=${encodeURIComponent(education.collegeName)}` +
                `&university${index}=${encodeURIComponent(education.university)}` +
                `&fromYearEdu${index}=${encodeURIComponent(education.fromYearEdu)}` +
                `&toYearEdu${index}=${encodeURIComponent(education.toYearEdu)}`;
            });

            // Experience info
            const experienceFields = document.querySelectorAll('.experienceField');
            let experienceData = [];
            experienceFields.forEach((field, index) => {
                const companyName = field.querySelector('#companyName').value;
                const roleName= field.querySelector('#roleName').value;
                const responsibilities = field.querySelector('#responsibilities').value;
                const fromYearExp = field.querySelector('#fromYearExp').value;
                const toYearExp = field.querySelector('#toYearExp').value;

                
                experienceData.push({
                    companyName: companyName,
                    roleName: roleName,
                    responsibilities: responsibilities,
                    fromYearExp: fromYearExp,
                    toYearExp: toYearExp
                });
            });

            experienceData.forEach((experience, index) => {
                url += `&companyName${index}=${encodeURIComponent(experience.companyName)}` +
                    `&roleName${index}=${encodeURIComponent(experience.roleName)}` +
                    `&responsibilities${index}=${encodeURIComponent(experience.responsibilities)}` +
                    `&fromYearExp${index}=${encodeURIComponent(experience.fromYearExp)}` +
                    `&toYearExp${index}=${encodeURIComponent(experience.toYearExp)}`;
            });

            // Language info
            const languageFields = document.querySelectorAll('.languageField');
            let languageData = [];
            languageFields.forEach((field, index) => {
                const langName = field.querySelector('#langName').value;
                const langPercent = field.querySelector('#langPercent').value;
                languageData.push({
                    langName: langName,
                    langPercent: langPercent
                });
            });

            languageData.forEach((language, index) => {
                url += `&langName${index}=${encodeURIComponent(language.langName)}` +
                    `&langPercent${index}=${encodeURIComponent(language.langPercent)}`;
            });

            // Skill info
            const skillFields = document.querySelectorAll('.skillField');
            let skillData = [];
            skillFields.forEach((field, index) => {
                const skillName = field.querySelector('#skillName').value;
                const skillPercent = field.querySelector('#skillPercent').value;
                skillData.push({
                    skillName: skillName,
                    skillPercent: skillPercent
                });
            });

            skillData.forEach((skill, index) => {
                url += `&skillName${index}=${encodeURIComponent(skill.skillName)}` +
                    `&skillPercent${index}=${encodeURIComponent(skill.skillPercent)}`;
            });

            // Interest info
            const interestFields = document.querySelectorAll('.interestField');
            let interestData = [];
            interestFields.forEach((field, index) => {
                const interestName = field.querySelector('#interestName').value;
                interestData.push({
                    interestName: interestName
                });
            });

            interestData.forEach((interest, index) => {
                url += `&interestName${index}=${encodeURIComponent(interest.interestName)}`;
            });


            // Redirect to Template1.html with the parameters
            window.location.href = url;
            return false;
        }

        function addExperienceField() {
            const experienceFields = document.getElementById("experienceFields");
            const newExperienceField = experienceFields.children[0].cloneNode(true);
            experienceFields.appendChild(newExperienceField);

            // Update the legend label for the newly added education field
            experienceCounter++;
            newExperienceField.querySelector("h2").textContent = "Experience" + experienceCounter;
            experienceFields.appendChild(newExperienceField);
        }

        function addEducationField() {
            const educationFields = document.getElementById("educationFields");
            const newEducationField = educationFields.children[0].cloneNode(true);
            educationFields.appendChild(newEducationField);

            // Update the legend label for the newly added education field
            educationCounter++;
            newEducationField.querySelector("h2").textContent = "Education " + educationCounter;
            educationFields.appendChild(newEducationField);
        }

        function addHobbyField() {
            const hobbyFields = document.getElementById("hobbyFields");
            const newHobbyField = hobbyFields.children[0].cloneNode(true);
            hobbyFields.appendChild(newHobbyField);

            // Update the heading for the newly added hobby field
            hobbyCounter++;
            newHobbyField.querySelector("h2").textContent = "Hobby " + hobbyCounter;
        }

        function addLanguageField() {
            const languageFields = document.getElementById("languageFields");
            const newLanguageField = languageFields.children[0].cloneNode(true);
            languageFields.appendChild(newLanguageField);

            // Update the heading for the newly added language field
            languageCounter++;
            newLanguageField.querySelector("h2").textContent = "Language " + languageCounter;
        }

        function addSkillField() {
            const skillFields = document.getElementById("skillFields");
            const newSkillField = skillFields.children[0].cloneNode(true);
            skillFields.appendChild(newSkillField);

            // Update the heading for the newly added skill field
            skillCounter++;
            newSkillField.querySelector("h2").textContent = "Skill " + skillCounter;
        }
            

    </script>

</body>
</html>